<div class="flex-container-column fill-container">
  @if (!(fullscreenService.isFullscreen$ | async)) {
    <div class="flex-container-row">
      <div
        class="bg-white border border-gray-300 rounded-lg shadow-mat-8 p-3 mt-1 margin-right flex-1 box-border max-w-[40%]"
      >
        <div class="w-full">
          <!-- Tab buttons -->
          <div class="overflow-x-auto">
            <div class="flex space-x-2 w-max border-b border-gray-200 mb-2">
              <button
                class="px-3 py-1.5 text-xs font-medium border-b-2 focus:outline-none"
                [class.text-primary-600]="customtoolbarcomponentTab === 'livedemo'"
                [class.border-primary-600]="customtoolbarcomponentTab === 'livedemo'"
                [class.text-gray-500]="customtoolbarcomponentTab !== 'livedemo'"
                [class.border-transparent]="customtoolbarcomponentTab !== 'livedemo'"
                (click)="customtoolbarcomponentTab = 'livedemo'"
              >
                live demo
              </button>
              <button
                class="px-3 py-1.5 text-xs font-medium border-b-2 focus:outline-none"
                [class.text-primary-600]="customtoolbarcomponentTab === 'responsivecustombuttons'"
                [class.border-primary-600]="customtoolbarcomponentTab === 'responsivecustombuttons'"
                [class.text-gray-500]="customtoolbarcomponentTab !== 'responsivecustombuttons'"
                [class.border-transparent]="customtoolbarcomponentTab !== 'responsivecustombuttons'"
                (click)="customtoolbarcomponentTab = 'responsivecustombuttons'"
              >
                responsive custom buttons
              </button>
            </div>
          </div>
        </div>

        <!-- Tab content -->
        @if (customtoolbarcomponentTab === 'livedemo') {
          <div class="tab-content">
            <p>
              ngx-extended-pdf-viewer allows you to define your own custom toolbar, menu, and it even allows you to create your own sidebar and your own
              thumbnails.
            </p>
            <p>
              Sometimes your buttons don't show in the toolbar. For example, the find button is shy. You need to pass a responsive design attribute to make it
              visible, such as <code>[showFindButton]="'always-visible'"</code>. The find button, in particular, only shows if the PDF file has a text layer and
              if you opted in to show it (<code>[textLayer]="true"</code>).
            </p>
            <label class="block text-sm font-medium text-gray-700"></label>
            <div class="space-y-1">
              <label class="flex items-center space-x-1 text-sm">
                <input type="radio" class="form-radio text-primary-600" value="default" aria-label="Demo" [(ngModel)]="toolbarVariant" />
                <span class="ps-1">standard layout</span>
              </label>
              <label class="flex items-center space-x-1 text-sm">
                <input type="radio" class="form-radio text-primary-600" value="findbar" aria-label="Demo" [(ngModel)]="toolbarVariant" />
                <span class="ps-1">custom findbar (large input field in a dedicated line)</span>
              </label>
              <label class="flex items-center space-x-1 text-sm">
                <input type="radio" class="form-radio text-primary-600" value="checkbox" aria-label="Demo" [(ngModel)]="toolbarVariant" />
                <span class="ps-1">radiobutton zoom</span>
              </label>
              <label class="flex items-center space-x-1 text-sm">
                <input type="radio" class="form-radio text-primary-600" value="additional" aria-label="Demo" [(ngModel)]="toolbarVariant" />
                <span class="ps-1">custom color and additional buttons ("open PDF in new tab" and "export as image" button)</span>
              </label>
              <div class="grid grid-cols-2">
                <label class="flex items-center space-x-1 text-sm">
                  <input type="radio" class="form-radio text-primary-600" value="floating" aria-label="Demo" [(ngModel)]="toolbarVariant" />
                  <span class="ps-1">floating zoombar</span>
                </label>
                @if (toolbarVariant === 'floating') {
                  <label class="flex items-center space-x-1 text-sm">
                    <input type="checkbox" class="form-checkbox text-primary-600" [(ngModel)]="showFreeFloatingBar" />
                    <span>show it! (uncheck to hide)</span>
                  </label>
                }
              </div>
            </div>
          </div>
        }
        @if (customtoolbarcomponentTab === 'responsivecustombuttons') {
          <div class="tab-content">
            <app-ie11-markdown src="/assets/extended-pdf-viewer/responsive-design/custom-buttons.md"> </app-ie11-markdown>
          </div>
        }
      </div>
      <div class="bg-white border border-gray-300 rounded-lg shadow-mat-8 p-3 mt-1 flex-1 box-border max-w-[58%]">
        <div class="w-full">
          <!-- Tab buttons -->
          <div class="overflow-x-auto">
            <div class="flex space-x-2 w-max border-b border-gray-200 mb-2">
              <button
                class="px-3 py-1.5 text-xs font-medium border-b-2 focus:outline-none"
                [class.text-primary-600]="codeTab === 'typescript'"
                [class.border-primary-600]="codeTab === 'typescript'"
                [class.text-gray-500]="codeTab !== 'typescript'"
                [class.border-transparent]="codeTab !== 'typescript'"
                (click)="codeTab = 'typescript'"
              >
                TypeScript
              </button>
              <button
                class="px-3 py-1.5 text-xs font-medium border-b-2 focus:outline-none"
                [class.text-primary-600]="codeTab === 'htmltemplate'"
                [class.border-primary-600]="codeTab === 'htmltemplate'"
                [class.text-gray-500]="codeTab !== 'htmltemplate'"
                [class.border-transparent]="codeTab !== 'htmltemplate'"
                (click)="codeTab = 'htmltemplate'"
              >
                HTML template
              </button>
              <button
                class="px-3 py-1.5 text-xs font-medium border-b-2 focus:outline-none"
                [class.text-primary-600]="codeTab === 'csstemplate'"
                [class.border-primary-600]="codeTab === 'csstemplate'"
                [class.text-gray-500]="codeTab !== 'csstemplate'"
                [class.border-transparent]="codeTab !== 'csstemplate'"
                (click)="codeTab = 'csstemplate'"
              >
                CSS template
              </button>
              <button
                class="px-3 py-1.5 text-xs font-medium border-b-2 focus:outline-none"
                [class.text-primary-600]="codeTab === 'additionalbuttons'"
                [class.border-primary-600]="codeTab === 'additionalbuttons'"
                [class.text-gray-500]="codeTab !== 'additionalbuttons'"
                [class.border-transparent]="codeTab !== 'additionalbuttons'"
                (click)="codeTab = 'additionalbuttons'"
              >
                additional buttons
              </button>
              <button
                class="px-3 py-1.5 text-xs font-medium border-b-2 focus:outline-none"
                [class.text-primary-600]="codeTab === 'additionalnestedbuttons'"
                [class.border-primary-600]="codeTab === 'additionalnestedbuttons'"
                [class.text-gray-500]="codeTab !== 'additionalnestedbuttons'"
                [class.border-transparent]="codeTab !== 'additionalnestedbuttons'"
                (click)="codeTab = 'additionalnestedbuttons'"
              >
                additional nested buttons
              </button>
              <button
                class="px-3 py-1.5 text-xs font-medium border-b-2 focus:outline-none"
                [class.text-primary-600]="codeTab === 'additionalnestedbuttonsts'"
                [class.border-primary-600]="codeTab === 'additionalnestedbuttonsts'"
                [class.text-gray-500]="codeTab !== 'additionalnestedbuttonsts'"
                [class.border-transparent]="codeTab !== 'additionalnestedbuttonsts'"
                (click)="codeTab = 'additionalnestedbuttonsts'"
              >
                additional nested buttons (TS)
              </button>
              <button
                class="px-3 py-1.5 text-xs font-medium border-b-2 focus:outline-none"
                [class.text-primary-600]="codeTab === 'changingthetoolbarsdynamically'"
                [class.border-primary-600]="codeTab === 'changingthetoolbarsdynamically'"
                [class.text-gray-500]="codeTab !== 'changingthetoolbarsdynamically'"
                [class.border-transparent]="codeTab !== 'changingthetoolbarsdynamically'"
                (click)="codeTab = 'changingthetoolbarsdynamically'"
              >
                changing the toolbars dynamically
              </button>
            </div>
          </div>
        </div>

        <!-- Tab content -->
        @if (codeTab === 'typescript') {
          <div class="tab-content">
            <app-ie11-markdown [src]="'/assets/extended-pdf-viewer/custom-toolbar/ts-' + toolbarVariant + '.md'"> </app-ie11-markdown>
          </div>
        }
        @if (codeTab === 'htmltemplate') {
          <div class="tab-content">
            <app-ie11-markdown [src]="'/assets/extended-pdf-viewer/custom-toolbar/html-' + toolbarVariant + '.md'"> </app-ie11-markdown>
          </div>
        }
        @if (codeTab === 'csstemplate') {
          <div class="tab-content">
            <app-ie11-markdown [src]="'/assets/extended-pdf-viewer/custom-toolbar/css-' + toolbarVariant + '.md'"> </app-ie11-markdown>
          </div>
        }
        @if (codeTab === 'additionalbuttons') {
          <div class="tab-content">
            <app-ie11-markdown [src]="'/assets/extended-pdf-viewer/custom-toolbar/component-new-tab.md'"> </app-ie11-markdown>
          </div>
        }
        @if (codeTab === 'additionalnestedbuttons') {
          <div class="tab-content">
            <app-ie11-markdown [src]="'/assets/extended-pdf-viewer/custom-toolbar/html-additional-mat-design.md'"> </app-ie11-markdown>
          </div>
        }
        @if (codeTab === 'additionalnestedbuttonsts') {
          <div class="tab-content">
            <app-ie11-markdown [src]="'/assets/extended-pdf-viewer/custom-toolbar/html-additional-mat-design.md'"> </app-ie11-markdown>
          </div>
        }
        @if (codeTab === 'changingthetoolbarsdynamically') {
          <div class="tab-content">
            <app-ie11-markdown [src]="'/assets/extended-pdf-viewer/custom-toolbar/ts-reinitialization.md'"> </app-ie11-markdown>
          </div>
        }
      </div>
    </div>
  }

  <app-demo [src]="src">
    @if (showPdfViewer) {
      <ngx-extended-pdf-viewer
        [customFindbarInputArea]="toolbarVariant === 'findbar' ? customFindbarInputArea : undefined"
        [customFindbarButtons]="toolbarVariant === 'findbar' ? customFindbarButtons : undefined"
        [customToolbar]="toolbarVariant === 'checkbox' ? customCheckboxZoomToolbar : toolbarVariant === 'additional' ? additionalButtons : undefined"
        [customFreeFloatingBar]="toolbarVariant === 'floating' ? floatingZoombar : undefined"
        [src]="src"
        [zoom]="zoom"
        [showZoomButtons]="toolbarVariant !== 'floating'"
        [showFreeFloatingBar]="showFreeFloatingBar"
        [textLayer]="toolbarVariant === 'findbar'"
        [theme]="theme"
      >
      </ngx-extended-pdf-viewer>
    }
  </app-demo>
</div>

<ng-template #customFindbarInputArea>
  <div id="findbarInputContainer">
    <pdf-search-input-field></pdf-search-input-field>
  </div>
</ng-template>

<ng-template #customFindbarButtons>
  <div class="no-float">
    <pdf-find-input-area [customFindbarInputArea]="customFindbarInputArea"></pdf-find-input-area>
  </div>
  <div class="no-float">
    <pdf-find-highlight-all></pdf-find-highlight-all>
    <pdf-find-match-case></pdf-find-match-case>
    <pdf-find-entire-word></pdf-find-entire-word>
    <pdf-find-results-count></pdf-find-results-count>
    <pdf-findbar-message-container></pdf-findbar-message-container>
    <pdf-find-previous></pdf-find-previous>
    <pdf-find-next></pdf-find-next>
  </div>
</ng-template>

<ng-template #customCheckboxZoomToolbar>
  <div id="toolbarViewer">
    <div id="toolbarViewerMiddle">
      <pdf-zoom-dropdown class="invisible"></pdf-zoom-dropdown>

      <input type="radio" id="zoom50" class="toolbarField radio" tabindex="94" (click)="zoom = '50%'" name="zoom" [checked]="zoom === '50%'" />
      <label for="zoom50" class="toolbarLabel">50%</label>

      <input type="radio" id="zoom100" class="toolbarField radio" tabindex="95" (click)="zoom = '100%'" name="zoom" [checked]="zoom === '100%'" />
      <label for="zoom100" class="toolbarLabel">100%</label>

      <input type="radio" id="zoom200" class="toolbarField radio" tabindex="96" (click)="zoom = '200%'" name="zoom" [checked]="zoom === '200%'" />
      <label for="zoom200" class="toolbarLabel">200%</label>

      <input type="radio" id="zoom-auto" class="toolbarField radio" tabindex="97" (click)="zoom = 'auto'" name="zoom" [checked]="zoom === 'auto'" />
      <label for="zoom-auto" class="toolbarLabel">auto</label>
    </div>
  </div>
</ng-template>

<ng-template #additionalButtons>
  <div id="toolbarViewer" class="bg-sky-100">
    <div id="toolbarViewerLeft">
      <pdf-toggle-sidebar></pdf-toggle-sidebar>
      <div class="toolbarButtonSpacer"></div>
      <pdf-paging-area></pdf-paging-area>
    </div>
    <pdf-zoom-toolbar></pdf-zoom-toolbar>
    <div id="toolbarViewerRight">
      <pdf-open-file></pdf-open-file>
      <pdf-presentation-mode></pdf-presentation-mode>
      <pdf-print></pdf-print>
      <app-open-in-new-tab></app-open-in-new-tab>
      <pdf-shy-button [cssClass]="'lg' | responsiveCSSClass" title="export an image" primaryToolbarId="nestedComponent" [order]="1" [closeOnClick]="true">
        <button #nestedContent id="sidebarToggle" color="primary" class="toolbarButton" title="export an image" (click)="exportAsImage()">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" class="text-red-500">
            <path d="M12 15.2C13.77 15.2 15.2 13.77 15.2 12C15.2 10.23 13.77 8.8 12 8.8C10.23 8.8 8.8 10.23 8.8 12C8.8 13.77 10.23 15.2 12 15.2Z" fill="currentColor"/>
            <path d="M9 2L7.17 4H4C2.9 4 2 4.9 2 6V18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V6C22 4.9 21.1 4 20 4H16.83L15 2H9ZM12 17C9.24 17 7 14.76 7 12C7 9.24 9.24 7 12 7C14.76 7 17 9.24 17 12C17 14.76 14.76 17 12 17Z" fill="currentColor"/>
          </svg>
        </button>
      </pdf-shy-button>
      <pdf-download></pdf-download>
      <pdf-toggle-secondary-toolbar></pdf-toggle-secondary-toolbar>
    </div>
  </div>
</ng-template>

<ng-template #floatingZoombar>
  <div
    class="absolute bottom-5 left-[41%] z-10 bg-slate-200 p-1 pb-2 border border-gray-600"
  >
    <div>
      <pdf-zoom-dropdown class="invisible"></pdf-zoom-dropdown>

      <input type="radio" id="zoom50" class="toolbarField radio" tabindex="94" (click)="zoom = '50%'" name="zoom" [checked]="zoom === '50%'" />
      <label for="zoom50" class="toolbarLabel">50%</label>

      <input type="radio" id="zoom100" class="toolbarField radio" tabindex="95" (click)="zoom = '100%'" name="zoom" [checked]="zoom === '100%'" />
      <label for="zoom100" class="toolbarLabel">100%</label>

      <input type="radio" id="zoom200" class="toolbarField radio" tabindex="96" (click)="zoom = '200%'" name="zoom" [checked]="zoom === '200%'" />
      <label for="zoom200" class="toolbarLabel">200%</label>

      <input type="radio" id="zoom-auto" class="toolbarField radio" tabindex="97" (click)="zoom = 'auto'" name="zoom" [checked]="zoom === 'auto'" />
      <label for="zoom-auto" class="toolbarLabel">auto</label>
    </div>
  </div>
</ng-template>
