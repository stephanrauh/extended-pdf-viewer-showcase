<div class="flex-container-column fill-container">
  @if (!(fullscreenService.isFullscreen$ | async)) {
    <div class="flex-container-row">
      <div class="bg-white border border-gray-300 rounded-lg shadow-mat-8 p-6 distance16 margin-right" style="flex: 1 1 100%; box-sizing: border-box; max-width: 40%">
                <div class="w-full">
          <!-- Tab buttons -->
          <div class="overflow-x-auto">
            <div class="flex space-x-2 w-max border-b border-gray-200 mb-2">
            <button 
              class="px-3 py-1.5 text-xs font-medium border-b-2 focus:outline-none"
              [class.text-primary-600]="customthumbnailscomponentTab === 'htmltemplate'"
              [class.border-primary-600]="customthumbnailscomponentTab === 'htmltemplate'"
              [class.text-gray-500]="customthumbnailscomponentTab !== 'htmltemplate'"
              [class.border-transparent]="customthumbnailscomponentTab !== 'htmltemplate'"
              (click)="customthumbnailscomponentTab = 'htmltemplate'">
              HTML template
            </button>
            <button 
              class="px-3 py-1.5 text-xs font-medium border-b-2 focus:outline-none"
              [class.text-primary-600]="codeTab === 'callangularcode'"
              [class.border-primary-600]="codeTab === 'callangularcode'"
              [class.text-gray-500]="codeTab !== 'callangularcode'"
              [class.border-transparent]="codeTab !== 'callangularcode'"
              (click)="codeTab = 'callangularcode'">
              Call Angular code
            </button>
          </div>
          </div>
          
          <!-- Tab content -->
          @if (customthumbnailscomponentTab === 'htmltemplate') {
          <div class="tab-content">
<p>
              You can customize the thumbnails. To do so you need to define something that looks like an Angular template, but isn't an Angular template. It's not
              part of the Angular interpolation and lifecycle, so there are several restrictions. This demo shows over to circumvent them.
            </p>
            <p>If you want to use CSS classes, set `encapsulation: ViewEncapsulation.None`.</p>
            <p>In the HTML definition, you can use these variable <code>PAGE_NUMBER</code>.</p>
            <p>If you need more fine-grained control, modify the thumbnail in an event listener of `(thumbnailDrawn)`. The demo
              uses this option to color the thumbnails differently and to add the diagonal text.
            </p>
          </div>
          }
          @if (codeTab === 'callangularcode') {
          <div class="tab-content">
<p>
              If you want to call Angular code from the template, implement `(thumbnailDrawn)` and use it to register the event listener.
              If you're not using ngZone, you need to call
              `ChangeDetectorRef.detectChanges()` or `ChangeDetectorRef.markForCheck()`.
            </p>
            <p>The demo set the initial state of the radio buttons in `(thumbnailDrawn)`.
            It also adds an event listener to rotate the pages on double-click.</p>
          </div>
          }
        </div>
      </div>
  <div class="bg-white border border-gray-300 rounded-lg shadow-mat-8 p-6 distance16 progress" style="flex: 1 1 100%; box-sizing: border-box; max-width: 58%">
                <div class="w-full">
          <!-- Tab buttons -->
          <div class="overflow-x-auto">
            <div class="flex space-x-2 w-max border-b border-gray-200 mb-2">
            <button 
              class="px-3 py-1.5 text-xs font-medium border-b-2 focus:outline-none"
              [class.text-primary-600]="customthumbnailscomponentTab === 'htmltemplate12'"
              [class.border-primary-600]="customthumbnailscomponentTab === 'htmltemplate12'"
              [class.text-gray-500]="customthumbnailscomponentTab !== 'htmltemplate12'"
              [class.border-transparent]="customthumbnailscomponentTab !== 'htmltemplate12'"
              (click)="customthumbnailscomponentTab = 'htmltemplate12'">
              HTML template (1/2)
            </button>
            <button 
              class="px-3 py-1.5 text-xs font-medium border-b-2 focus:outline-none"
              [class.text-primary-600]="codeTab === 'htmltemplate22'"
              [class.border-primary-600]="codeTab === 'htmltemplate22'"
              [class.text-gray-500]="codeTab !== 'htmltemplate22'"
              [class.border-transparent]="codeTab !== 'htmltemplate22'"
              (click)="codeTab = 'htmltemplate22'">
              HTML template (2/2)
            </button>
            <button 
              class="px-3 py-1.5 text-xs font-medium border-b-2 focus:outline-none"
              [class.text-primary-600]="codeTab === 'thumbnaildrawn'"
              [class.border-primary-600]="codeTab === 'thumbnaildrawn'"
              [class.text-gray-500]="codeTab !== 'thumbnaildrawn'"
              [class.border-transparent]="codeTab !== 'thumbnaildrawn'"
              (click)="codeTab = 'thumbnaildrawn'">
              (thumbnailDrawn)
            </button>
            <button 
              class="px-3 py-1.5 text-xs font-medium border-b-2 focus:outline-none"
              [class.text-primary-600]="codeTab === 'callangularcode'"
              [class.border-primary-600]="codeTab === 'callangularcode'"
              [class.text-gray-500]="codeTab !== 'callangularcode'"
              [class.border-transparent]="codeTab !== 'callangularcode'"
              (click)="codeTab = 'callangularcode'">
              Call Angular code
            </button>
          </div>
          </div>
          
          <!-- Tab content -->
          @if (customthumbnailscomponentTab === 'htmltemplate12') {
          <div class="tab-content">
<app-ie11-markdown src="/assets/extended-pdf-viewer/custom-thumbnails/html.md"></app-ie11-markdown>
          </div>
          }
          @if (codeTab === 'htmltemplate22') {
          <div class="tab-content">
<app-ie11-markdown src="/assets/extended-pdf-viewer/custom-thumbnails/template37.md"></app-ie11-markdown>
          </div>
          }
          @if (codeTab === 'thumbnaildrawn') {
          <div class="tab-content">
<app-ie11-markdown src="/assets/extended-pdf-viewer/custom-thumbnails/ts.md"></app-ie11-markdown>
          </div>
          }
          @if (codeTab === 'callangularcode') {
          <div class="tab-content">
<app-ie11-markdown src="/assets/extended-pdf-viewer/custom-thumbnails/ts2.md"></app-ie11-markdown>
          </div>
          }
        </div>
      </div>
    </div>
  }

  <app-demo [src]="'/assets/pdfs/ngx-extended-pdf-viewer-flyer.pdf'">
    <ngx-extended-pdf-viewer
      [src]="'/assets/pdfs/ngx-extended-pdf-viewer-flyer.pdf'"
      [customThumbnail]="radiobuttonThumbnail"
      (pageChange)="onPageChange($event)"
      (thumbnailDrawn)="onThumbnailDrawn($event)"
      [sidebarVisible]="true"
      [activeSidebarView]="1"
      [rotation]="rotation"
      [showBorders]="false"
      >
    </ngx-extended-pdf-viewer>
  </app-demo>
</div>

<ng-template #radiobuttonThumbnail>
  <a class="pdf-viewer-template">
    <div class="thumbnail" data-page-number="PAGE_NUMBER" style="border: none">
      <input id="thumbnail-cbx-PAGE_NUMBER" data-page-number="PAGE_NUMBER" class="thumbnail-radiobutton" type="radio" style="top: 100px; right: 25px; position: relative; transform: scale(1.5)"
        />
      <div class="thumbnail-text"></div>
      <div class="image-container" style="width: var(--thumbnail-width); height: var(--thumbnail-height)">
        <img class="thumbnailImage" alt="miniature of the page"/>
      </div>
      <div
        style="margin-top: -30px;margin-left: auto;margin-right: auto;text-align: center;width: 25px;height: 25px;border-radius: 50%;background-color: blue;
          color: white;line-height: 25px;">
        #PAGE_NUMBER
      </div>
    </div>
  </a>
</ng-template>
