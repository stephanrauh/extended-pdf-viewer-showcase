<div class="tree-container">
  <ul class="tree-list">
    <ng-container *ngFor="let node of treeData">
      <!-- Leaf node -->
      @if (!hasChild(0, node)) {
        <li class="tree-node">
          <div class="tree-node-content">
            <button class="tree-spacer bg-transparent border-none cursor-default w-8 h-8" disabled> </button>
            <span class="tree-label">
              {{ node.prefix }}
              <span *ngIf="node.id" class="hook text-blue-600"
                    title="The PDF viewer uses this id to register an action listener. You can replace this widget with your own custom widget. Using the correct id is all you need to call the original behavior.">
                id="{{ node.id }}"
                <app-icon-info class="icon id"></app-icon-info>
              </span>
              <span *ngIf="node.content" class="customizable text-green-600"
                    title="You can use this property to replace the content of this component with your custom content.">
                custom content: [{{node.content}}]
                <app-icon-info class="icon"></app-icon-info>
              </span>
              {{node.suffix}}
            </span>
          </div>
        </li>
      }

      <!-- Parent node -->
      @if (hasChild(0, node)) {
        <li class="tree-node">
          <div class="tree-node-content">
            <button class="tree-toggle bg-transparent border-none cursor-pointer w-8 h-8 flex items-center justify-center hover:bg-gray-100 rounded"
                    (click)="toggle(node)"
                    [attr.aria-label]="'toggle ' + node.name">
              <span class="tree-icon text-sm">
                {{ isExpanded(node) ? "▼" : "▶" }}
              </span>
            </button>
            <span class="tree-label">
              {{ node.prefix }}
              <span *ngIf="node.id" class="hook text-blue-600"
                    title="The PDF viewer uses this id to register an action listener. You can replace this widget with your own custom widget. Using the correct id is all you need to call the original behavior.">
                id="{{ node.id }}"
                <app-icon-info class="icon id"></app-icon-info>
              </span>
              <span *ngIf="node.content" class="customizable text-green-600"
                    title="You can use this property to replace the content of this component with your custom content.">
                custom content: [{{node.content}}]
                <app-icon-info class="icon"></app-icon-info>
              </span>
              {{node.suffix}}
            </span>
          </div>
          @if (node.children && isExpanded(node)) {
            <ul class="tree-children ml-6">
              <ng-container *ngFor="let child of node.children">
                <!-- Child leaf node -->
                @if (!hasChild(0, child)) {
                  <li class="tree-node">
                    <div class="tree-node-content">
                      <button class="tree-spacer bg-transparent border-none cursor-default w-8 h-8" disabled> </button>
                      <span class="tree-label">
                        {{ child.prefix }}
                        <span *ngIf="child.id" class="hook text-blue-600"
                              title="The PDF viewer uses this id to register an action listener. You can replace this widget with your own custom widget. Using the correct id is all you need to call the original behavior.">
                          id="{{ child.id }}"
                          <app-icon-info class="icon id"></app-icon-info>
                        </span>
                        <span *ngIf="child.content" class="customizable text-green-600"
                              title="You can use this property to replace the content of this component with your custom content.">
                          custom content: [{{child.content}}]
                          <app-icon-info class="icon"></app-icon-info>
                        </span>
                        {{child.suffix}}
                      </span>
                    </div>
                  </li>
                }

                <!-- Child parent node -->
                @if (hasChild(0, child)) {
                  <li class="tree-node">
                    <div class="tree-node-content">
                      <button class="tree-toggle bg-transparent border-none cursor-pointer w-8 h-8 flex items-center justify-center hover:bg-gray-100 rounded"
                              (click)="toggle(child)"
                              [attr.aria-label]="'toggle ' + child.name">
                        <span class="tree-icon text-sm">
                          {{ isExpanded(child) ? "▼" : "▶" }}
                        </span>
                      </button>
                      <span class="tree-label">
                        {{ child.prefix }}
                        <span *ngIf="child.id" class="hook text-blue-600"
                              title="The PDF viewer uses this id to register an action listener. You can replace this widget with your own custom widget. Using the correct id is all you need to call the original behavior.">
                          id="{{ child.id }}"
                          <app-icon-info class="icon id"></app-icon-info>
                        </span>
                        <span *ngIf="child.content" class="customizable text-green-600"
                              title="You can use this property to replace the content of this component with your custom content.">
                          custom content: [{{child.content}}]
                          <app-icon-info class="icon"></app-icon-info>
                        </span>
                        {{child.suffix}}
                      </span>
                    </div>
                    @if (child.children && isExpanded(child)) {
                      <ul class="tree-children ml-6">
                        <ng-container *ngFor="let grandchild of child.children">
                          <li class="tree-node">
                            <div class="tree-node-content">
                              <button class="tree-spacer bg-transparent border-none cursor-default w-8 h-8" disabled> </button>
                              <span class="tree-label">
                                {{ grandchild.prefix }}
                                <span *ngIf="grandchild.id" class="hook text-blue-600"
                                      title="The PDF viewer uses this id to register an action listener. You can replace this widget with your own custom widget. Using the correct id is all you need to call the original behavior.">
                                  id="{{ grandchild.id }}"
                                  <app-icon-info class="icon id"></app-icon-info>
                                </span>
                                <span *ngIf="grandchild.content" class="customizable text-green-600"
                                      title="You can use this property to replace the content of this component with your custom content.">
                                  custom content: [{{grandchild.content}}]
                                  <app-icon-info class="icon"></app-icon-info>
                                </span>
                                {{grandchild.suffix}}
                              </span>
                            </div>
                          </li>
                        </ng-container>
                      </ul>
                    }
                  </li>
                }
              </ng-container>
            </ul>
          }
        </li>
      }
    </ng-container>
  </ul>
</div>