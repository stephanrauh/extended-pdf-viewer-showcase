<div class="flex-container-column fill-container">
  @if (!(fullscreenService.isFullscreen$ | async)) {
  <div class="flex-container-row">
    <div class="bg-white border border-gray-300 rounded-lg shadow-mat-8 p-6 mt-1 margin-right flex-1 box-border max-w-[45%]">
              <div class="w-full">
          <!-- Tab buttons -->
          <div class="overflow-x-auto">
            <div class="flex space-x-2 w-max border-b border-gray-200 mb-2">
            <button
              class="px-3 py-1.5 text-xs font-medium border-b-2 focus:outline-none"
              [class.text-primary-600]="prerenderingcomponentTab === 'prerenderingstrategy'"
              [class.border-primary-600]="prerenderingcomponentTab === 'prerenderingstrategy'"
              [class.text-gray-500]="prerenderingcomponentTab !== 'prerenderingstrategy'"
              [class.border-transparent]="prerenderingcomponentTab !== 'prerenderingstrategy'"
              (click)="prerenderingcomponentTab = 'prerenderingstrategy'">
              Pre-rendering strategy
            </button>
            <button
              class="px-3 py-1.5 text-xs font-medium border-b-2 focus:outline-none"
              [class.text-primary-600]="prerenderingcomponentTab === 'livedemo'"
              [class.border-primary-600]="prerenderingcomponentTab === 'livedemo'"
              [class.text-gray-500]="prerenderingcomponentTab !== 'livedemo'"
              [class.border-transparent]="prerenderingcomponentTab !== 'livedemo'"
              (click)="prerenderingcomponentTab = 'livedemo'">
              Live demo
            </button>
            <button
              class="px-3 py-1.5 text-xs font-medium border-b-2 focus:outline-none"
              [class.text-primary-600]="prerenderingcomponentTab === 'bufferforrenderedpages'"
              [class.border-primary-600]="prerenderingcomponentTab === 'bufferforrenderedpages'"
              [class.text-gray-500]="prerenderingcomponentTab !== 'bufferforrenderedpages'"
              [class.border-transparent]="prerenderingcomponentTab !== 'bufferforrenderedpages'"
              (click)="prerenderingcomponentTab = 'bufferforrenderedpages'">
              Buffer for rendered pages
            </button>
          </div>
          </div>

          <!-- Tab content -->
          @if (prerenderingcomponentTab === 'prerenderingstrategy') {
          <div class="tab-content">
<p>
            Rendering a PDF page takes some time. When you browse quickly through the pages
            of a complex document,
            you'll frequently see the loading indicator instead of the page. That's an
            unpleasant experience, so the PDF viewer renders one or two pages in advance.
          </p>
          <p>While that's a good compromise between energy consumption and user experience
            in most cases, some users reported they need more flexibility. ngx-extended-pdf-viewer
            allows you to define a custom pre-rendering strategy. You can use it to render more
            pages below the current page in advance, but you can also use it to render pages above
            the currently visible page. The latter is useful to allow quick backward scrolling
            after jumping to a new chapter or jumping to a new page by entering the page number.
          </p>
          <p>Note that rendering too many pages in advance may have the opposite effect.
            Keeping your CPU busy results in a slow UI and a bad user experience.
          </p>
          </div>
          }
          @if (prerenderingcomponentTab === 'livedemo') {
          <div class="tab-content">
<p>The algorithm on the right-hand side increases the number of pre-rendered pages
            to two pages backward and up to five pages in advance.
          </p>
          <p>Hint: Zoom in or out to start with a fresh pre-rendering buffer.
          </p>
          <dl>
            <dt>Current page:</dt>
            <dd>{{page}} @if (pageLabel) {
              <span>(shown as '{{pageLabel}}')</span>
              }
            </dd>
            <dt>Visible pages:</dt>
            <dd>{{visiblePages}}</dd>
            <dt>Currently rendered pages</dt>
            <dd>{{currentlyRenderedPages}}</dd>
            <dt>Pages to render:</dt>
            <dd>{{pagesToRender}}</dd>
            <dt>Page requested:</dt>
            <dd>{{currentlyRequestedPage}}</dd>
          </dl>
          </div>
          }
          @if (prerenderingcomponentTab === 'bufferforrenderedpages') {
          <div class="tab-content">
<p>
            If you're running on tight memory constraints, you can reduce the size of the
            number of pre-rendered pages. By default, ngx-extended-pdf-viewer keeps
            up to 50 pages in memory. To reduce or increase this setting,
            set <code>pdfDefaultOptions.defaultCacheSize</code> to a different number.
          </p>
          </div>
          }
        </div>
    </div>
<div class="bg-white border border-gray-300 rounded-lg shadow-mat-8 p-6 mt-1 flex-1 box-border max-w-[53%]">
              <div class="w-full">
          <!-- Tab buttons -->
          <div class="overflow-x-auto">
            <div class="flex space-x-2 w-max border-b border-gray-200 mb-2">
            <button
              class="px-3 py-1.5 text-xs font-medium border-b-2 focus:outline-none"
              [class.text-primary-600]="codeTab === 'htmltemplate'"
              [class.border-primary-600]="codeTab === 'htmltemplate'"
              [class.text-gray-500]="codeTab !== 'htmltemplate'"
              [class.border-transparent]="codeTab !== 'htmltemplate'"
              (click)="codeTab = 'htmltemplate'">
              HTML template
            </button>
            <button
              class="px-3 py-1.5 text-xs font-medium border-b-2 focus:outline-none"
              [class.text-primary-600]="codeTab === 'typescript'"
              [class.border-primary-600]="codeTab === 'typescript'"
              [class.text-gray-500]="codeTab !== 'typescript'"
              [class.border-transparent]="codeTab !== 'typescript'"
              (click)="codeTab = 'typescript'">
              Typescript
            </button>
          </div>
          </div>

          <!-- Tab content -->
          @if (codeTab === 'htmltemplate') {
          <div class="tab-content">
<app-ie11-markdown ngPreserveWhitespaces src="/assets/extended-pdf-viewer/prerendering/html.md">
          </app-ie11-markdown>
          </div>
          }
          @if (codeTab === 'typescript') {
          <div class="tab-content">
<app-ie11-markdown ngPreserveWhitespaces src="/assets/extended-pdf-viewer/prerendering/ts.md">
          </app-ie11-markdown>
          </div>
          }
        </div>
    </div>
  </div>
  }

  <app-demo [src]="'./assets/pdfs/The Public Domain - Enclosing the Commons of the Mind.pdf'">
    <div style="margin-bottom: 8px;">
      <small>Note there's a bug in the PDF file. See the <a [routerLink]="['/annotation-layer']">annotation layer
          demo</a> to see the bugfix.</small>
    </div>

    <ngx-extended-pdf-viewer [src]="'./assets/pdfs/The Public Domain - Enclosing the Commons of the Mind.pdf'"
      [zoom]="'page-width'" [height]="'auto'" [(page)]="page" [(pageLabel)]="pageLabel" [textLayer]="true"
      (pageRendered)="onPageRendered()"
      [theme]="theme">
    </ngx-extended-pdf-viewer>
  </app-demo>
</div>
